#!/bin/sh

# First uninstall Vim, so if there's a new version we don't waste time installing it.
sudo pacman -R --noconfirm vim

sudo pacman -Syu --noconfirm
sudo pacman -S --noconfirm git zsh neovim tmux the_silver_searcher
sudo chsh -s $(which zsh) $(whoami)

# NeoVim
sudo pacman -S --noconfirm python python-pip
sudo pip install neovim

ssh-keyscan github.com >> ~/.ssh/known_hosts
git clone --bare git@github.com:botanicus/dotfiles.git ~/.dotfiles.git
git --git-dir=$HOME/.dotfiles.git config remote.origin.fetch "+refs/heads/*:refs/remotes/origin/*"
git --git-dir=$HOME/.dotfiles.git fetch
git --git-dir=$HOME/.dotfiles.git branch --set-upstream-to=origin/master master
git --git-dir=$HOME/.dotfiles.git --work-tree=$HOME checkout

~/.scripts/dotfiles/dotfiles.install
