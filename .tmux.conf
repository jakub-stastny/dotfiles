set -g mouse on
set -g set-clipboard on

# Start windows and panes at 1, not 0
set -g base-index 1
setw -g pane-base-index 1

# Vim-mode.
# use vim keybindings in copy mode
set-option -g mode-keys vi

# setup 'v' to begin selection like in Vim
# http://jilles.me/tmux-for-developers/
#bind-key -t vi-copy v begin-selection
#bind-key -t vi-copy y copy-pipe "reattach-to-user-namespace pbcopy"

# Status bar
set -g status-position bottom
set -g status-bg colour234
set -g status-fg colour137
set -g status-attr dim

# Ctrl-b r to reload the configuration file.
bind r source-file ${HOME}/.tmux.conf \; display-message "Tmux config has been reloaded."

# https://coderwall.com/p/r6saiq/iterm2-tmux-cmd-k
bind C-k send-keys -R \; clear-history

# Plugins.
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-open'
# set -g @plugin 'tmux-plugins/tmux-battery'       # CPU 0.6% -> 2.4% (1.6% – 4.1%).
# set -g @plugin 'tmux-plugins/tmux-cpu'           # CPU 0.6% -> 2.4% (1.6% – 3.5%).
# set -g @plugin 'tmux-plugins/tmux-online-status' # CPU 0.6% -> 1.7% (1.4% – 2.1%).
# prefix + h and prefix + C-h: select pane on the left
# prefix + j and prefix + C-j: select pane below the current one
# prefix + k and prefix + C-k: select pane above: prefix + l and prefix + C-l
# set -g @plugin 'tmux-plugins/tmux-pain-control'

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run '~/.tmux/plugins/tpm/tpm'

# NOTE: This run asynchronously. So we might move the line above to
# all the platform-specific files.
run-shell 'test -f ~/.tmux/$(uname).conf && tmux source-file ~/.tmux/$(uname).conf'
